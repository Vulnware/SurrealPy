<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>surrealpy.http API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>surrealpy.http</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from types import TracebackType
from typing import Any, Optional, Union
import logging
import urllib.parse
from surrealpy.http.models import SurrealResponse
from surrealpy.exceptions import ConnectionError, SurrealError
from surrealpy.utils import json_dumps, json_loads
import httpx

__all__ = (&#34;Client&#34;, &#34;AsyncClient&#34;)


def base_url(url, with_path=False):
    # Get From https://stackoverflow.com/questions/35616434/how-can-i-get-the-base-of-a-url-in-python
    parsed = urllib.parse.urlparse(url)
    path = &#34;/&#34;.join(parsed.path.split(&#34;/&#34;)[:-1]) if with_path else &#34;&#34;
    parsed = parsed._replace(path=path)
    parsed = parsed._replace(params=&#34;&#34;)
    parsed = parsed._replace(query=&#34;&#34;)
    parsed = parsed._replace(fragment=&#34;&#34;)
    return parsed.geturl()


# create logger object
logger = logging.getLogger(&#34;surrealpy.http&#34;)
logger.setLevel(logging.DEBUG)
logger.propagate = True
logger.debug(&#34;imported&#34;)


class AsyncClient:
    &#34;&#34;&#34;
    This class is a wrapper for the SurrealDB HTTP API.
    ...
    Parameters
    ----------
    uri : str
        The URI of the SurrealDB server.
    namespace : str
        The namespace of the database.
    database : str
        The name of the database.
    username : str
        The username of the database.
    password : str
        The password of the database.

    Attributes
    ----------
    uri : str
        the uri of the database
    namespace : str
        the namespace of the database
    database : str
        the database name
    username : str
        the username of the database
    password : str
        the password of the database

    &#34;&#34;&#34;

    def __init__(
        self, uri: str, namespace: str, database: str, *, username: str, password: str
    ) -&gt; None:
        &#34;&#34;&#34;
        Constructor of the class.

        Parameters
        ----------
        uri : str
            The URI of the SurrealDB server.
        namespace : str
            The namespace of the database.
        database : str
            The name of the database.
        username : str
            The username of the database.
        password : str
            The password of the database.
        &#34;&#34;&#34;
        self.__session = httpx.AsyncClient(
            auth=httpx.BasicAuth(username=username, password=password)
        )
        self.__session.headers.update(
            {
                &#34;Content-Type&#34;: &#34;application/json&#34;,
                &#34;Accept&#34;: &#34;application/json&#34;,
                &#34;NS&#34;: namespace,
                &#34;DB&#34;: database,
            }
        )
        self.__uri = uri
        self.__baseurl = base_url(uri)
        self.__ns = namespace
        self.__db = database

    @property
    def ns(self) -&gt; str:
        &#34;&#34;&#34;
        The namespace of the database.

        Returns
        -------
        str
            the namespace of the database
        &#34;&#34;&#34;
        return self.__ns

    @property
    def db(self) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        The databases in the namespace.

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the databases in the namespace as a list of dictionaries or a dictionary
        &#34;&#34;&#34;
        return self.__db

    async def tables(self) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        The tables in the database.

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the tables in the database as a list of dictionaries or a dictionary
        &#34;&#34;&#34;
        # retrieve all tables
        data = await self.raw_query(&#34;INFO FOR DB;&#34;)
        for i in data[0][&#34;result&#34;][&#34;tb&#34;].keys():
            yield i

    @property
    def uri(self) -&gt; str:
        &#34;&#34;&#34;
        The URI of the SurrealDB server.

        Returns
        -------
        str
            the URI of the SurrealDB server as a string
        &#34;&#34;&#34;
        return self.__uri

    async def __check(self) -&gt; None:
        &#34;&#34;&#34;
        Check if the connection is valid. If not, raise an exception.

        Raises
        ------
        ConnectionError
            if the connection is not valid or the database does not exist or the namespace does not exist or the username or password is wrong or the database is not accessible raise ConnectionError

        Returns
        -------
        None
        &#34;&#34;&#34;
        await self.query(&#34;INFO FOR DB;&#34;)

    async def __post(
        self, *extends: tuple[str], query: str
    ) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        Execute a query. If the query is not valid, raise an exception. If the query is valid, return the result.

        Parameters
        ----------
        query : str
            the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)
        extends : tuple[str]
            the extensions to add to the base url of the database connection.

        Raises
        ------
        SurrealError
            if the query is not valid, raise SurrealError with the error message

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the result of the query as a list of dictionaries or a dictionary if the query is valid
        &#34;&#34;&#34;
        extend_uri = self.__baseurl + &#34;/&#34; + &#34;/&#34;.join(extends)
        response: httpx.Response = await self.__session.post(extend_uri, content=query)
        if response.status_code == 200:
            return json_loads(await response.aread())
        elif response.status_code == 400:
            logger.error(await response.aread())
            raise SurrealError(json_loads(await response.aread())[&#34;information&#34;])
        else:
            logger.error(await response.aread())
            return None

    async def __get(self, *extends: tuple[Any]) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        Make a get request to the database. If the request is not valid, raise an exception. If the request is valid, return the result.

        Parameters
        ----------
        extends : tuple[Any]
            the extensions to add to the base url of the database connection.

        Raises
        ------
        SurrealError
            if the request is not valid, raise SurrealError with the error message

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the result of the request as a list of dictionaries or a dictionary if the request is valid or None if the request is not valid.
        &#34;&#34;&#34;
        extend_uri = self.__baseurl + &#34;/&#34; + &#34;/&#34;.join(extends)
        response: httpx.Response = await self.__session.get(extend_uri)
        logger.debug(await response.aread())
        if response.status_code == 200:
            return json_loads(await response.aread())
        else:
            return None

    def __transform_into_sql_val(val: Any) -&gt; Optional[Any]:
        &#34;&#34;&#34;
        Transform a value into a SQL value.

        Parameters
        ----------
        val : Optional[Any]
            the value to transform into a SQL value as a string, int, float, bool, None or a list of strings, ints, floats, bools or Nones

        Returns
        -------
        Any
            the value as a SQL value as a string, int, float, bool, None or a list of strings, ints, floats, bools or Nones.
        &#34;&#34;&#34;
        if isinstance(val, str):
            return &#34;&#39;%s&#39;&#34; % val
        return val

    async def raw_query(self, query: str) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        Execute raw query. If the query is not valid, raise an exception. If the query is valid, return the result.

        Parameters
        ----------
        query : str
            the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)

        Raises
        ------
        SurrealError
            if the query is not valid, raise SurrealError with the error message

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the result of the query as a list of dictionaries or a dictionary if the query is valid or None if the query is not valid.
        &#34;&#34;&#34;
        # execute a raw query
        return await self.__post(&#34;sql&#34;, query=query)

    async def mapped_query(self, query: str) -&gt; SurrealResponse:
        &#34;&#34;&#34;
        Execute mapped query. If the query is not valid, raise an exception. If the query is valid, return the result.

        Parameters
        ----------
        query : str
            the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)

        Raises
        ------
        SurrealError
            if the query is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object
        &#34;&#34;&#34;
        # execute a mapped query
        return SurrealResponse(await self.raw_query(query))

    async def query(self, query: str, **kwargs) -&gt; SurrealResponse:
        &#34;&#34;&#34;
        Execute a query. If the query is not valid, raise an exception. If the query is valid, return the result.

        Parameters
        ----------
        query : str
            the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)
        kwargs : dict[str,Any]
            the values to replace in the query as a dictionary

        Raises
        ------
        SurrealError
            if the query is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object
        &#34;&#34;&#34;
        # query the database
        return await self.mapped_query(query.format(**kwargs))

    async def let(self, key, val) -&gt; None:
        &#34;&#34;&#34;
        Let a value in the database. If the value is not valid, raise an exception. If the value is valid, return the result.

        Parameters
        ----------
        key : str
            the key to let as a string
        val : Any
            the value to let as a string, int, float, bool, None or a list of strings, ints, floats, bools or Nones

        Raises
        ------
        SurrealError
            if the value is not valid, raise SurrealError with the error message
        &#34;&#34;&#34;
        return await self.mapped_query(
            &#34;LET ${}={}&#34;.format(key, self.__transform_into_sql_val(val))
        )

    async def select(self, tid: str) -&gt; SurrealResponse:
        &#34;&#34;&#34;
        Select a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.
        tid is the id of a table or table name. If the tid is not valid, raise an exception

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return await self.mapped_query(&#34;SELECT * FROM {}&#34;.format(tid))

    async def create(self, tid: str, data: Optional[dict] = None) -&gt; SurrealResponse:
        &#34;&#34;&#34;
        Create a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return (
            await self.mapped_query(f&#34;CREATE {tid} CONTENT {json_dumps(data)}&#34;)
            if data is not None
            else await self.mapped_query(f&#34;CREATE {tid}&#34;)
        )

    async def update(self, tid: str, data: Optional[dict] = None):
        &#34;&#34;&#34;
        Update a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return (
            await self.mapped_query(f&#34;UPDATE {tid}&#34;)
            if data is not None
            else await self.mapped_query(f&#34;UPDATE {tid} CONTENT {json_dumps(data)}&#34;)
        )

    async def change(self, tid: str, data: Optional[dict] = None):
        &#34;&#34;&#34;
        Change a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return (
            await self.mapped_query(f&#34;UPDATE {tid}&#34;)
            if data is not None
            else await self.mapped_query(f&#34;UPDATE {tid} MERGE {json_dumps(data)}&#34;)
        )

    async def modify(self, tid: str, data: Optional[dict] = None):
        &#34;&#34;&#34;
        Modify a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return (
            await self.mapped_query(f&#34;UPDATE {tid}&#34;)
            if data is not None
            else await self.mapped_query(f&#34;UPDATE {tid} PATCH {json_dumps(data)}&#34;)
        )

    async def delete(self, tid: str):
        &#34;&#34;&#34;
        Delete a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return await self.mapped_query(f&#34;DELETE * FROM {tid}&#34;)


class Client:
    &#34;&#34;&#34;
    This class is a wrapper for the SurrealDB HTTP API.
    ...
    Parameters
    ----------
    uri : str
        The URI of the SurrealDB server.
    namespace : str
        The namespace of the database.
    database : str
        The name of the database.
    username : str
        The username of the database.
    password : str
        The password of the database.

    Attributes
    ----------
    uri : str
        the uri of the database
    namespace : str
        the namespace of the database
    database : str
        the database name
    username : str
        the username of the database
    password : str
        the password of the database

    &#34;&#34;&#34;

    def __init__(
        self, uri: str, namespace: str, database: str, *, username: str, password: str
    ) -&gt; None:
        &#34;&#34;&#34;
        Constructor of the class.

        Parameters
        ----------
        uri : str
            The URI of the SurrealDB server.
        namespace : str
            The namespace of the database.
        database : str
            The name of the database.
        username : str
            The username of the database.
        password : str
            The password of the database.
        &#34;&#34;&#34;
        self.__session = httpx.Client(
            auth=httpx.BasicAuth(username=username, password=password)
        )
        self.__session.headers.update(
            {
                &#34;Content-Type&#34;: &#34;application/json&#34;,
                &#34;Accept&#34;: &#34;application/json&#34;,
                &#34;NS&#34;: namespace,
                &#34;DB&#34;: database,
            }
        )
        self.__uri = uri
        self.__baseurl = base_url(uri)
        self.__check()
        self.__ns = namespace
        self.__db = database

    @property
    def ns(self) -&gt; str:
        &#34;&#34;&#34;
        The namespace of the database.

        Returns
        -------
        str
            the namespace of the database
        &#34;&#34;&#34;
        return self.__ns

    @property
    def db(self) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        The databases in the namespace.

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the databases in the namespace as a list of dictionaries or a dictionary
        &#34;&#34;&#34;
        return self.__db

    @property
    def tables(self) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        The tables in the database.

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the tables in the database as a list of dictionaries or a dictionary
        &#34;&#34;&#34;
        # retrieve all tables
        data = self.raw_query(&#34;INFO FOR DB;&#34;)
        for i in data[0][&#34;result&#34;][&#34;tb&#34;].keys():
            yield i

    @property
    def uri(self) -&gt; str:
        &#34;&#34;&#34;
        The URI of the SurrealDB server.

        Returns
        -------
        str
            the URI of the SurrealDB server as a string
        &#34;&#34;&#34;
        return self.__uri

    def __check(self) -&gt; None:
        &#34;&#34;&#34;
        Check if the connection is valid. If not, raise an exception.

        Raises
        ------
        ConnectionError
            if the connection is not valid or the database does not exist or the namespace does not exist or the username or password is wrong or the database is not accessible raise ConnectionError

        Returns
        -------
        None
        &#34;&#34;&#34;
        self.query(&#34;INFO FOR DB;&#34;)

    def __post(
        self, *extends: tuple[str], query: str
    ) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        Execute a query. If the query is not valid, raise an exception. If the query is valid, return the result.

        Parameters
        ----------
        query : str
            the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)
        extends : tuple[str]
            the extensions to add to the base url of the database connection.

        Raises
        ------
        SurrealError
            if the query is not valid, raise SurrealError with the error message

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the result of the query as a list of dictionaries or a dictionary if the query is valid
        &#34;&#34;&#34;
        extend_uri = self.__baseurl + &#34;/&#34; + &#34;/&#34;.join(extends)
        response: httpx.Response = self.__session.post(extend_uri, content=query)
        logger.debug(response.text)
        if response.status_code == 200:
            return json_loads(response.text)
        elif response.status_code == 400:
            logger.error(response.text)
            raise SurrealError(json_loads(response.text)[&#34;information&#34;])
        else:
            logger.error(response.text)
            return None

    def __get(self, *extends: tuple[Any]) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        Make a get request to the database. If the request is not valid, raise an exception. If the request is valid, return the result.

        Parameters
        ----------
        extends : tuple[Any]
            the extensions to add to the base url of the database connection.

        Raises
        ------
        SurrealError
            if the request is not valid, raise SurrealError with the error message

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the result of the request as a list of dictionaries or a dictionary if the request is valid or None if the request is not valid.
        &#34;&#34;&#34;
        extend_uri = self.__baseurl + &#34;/&#34; + &#34;/&#34;.join(extends)
        response: httpx.Response = self.__session.get(extend_uri)
        logger.debug(response.text)
        if response.status_code == 200:
            return json_loads(response.text)
        else:
            return None

    def __transform_into_sql_val(val: Any) -&gt; Optional[Any]:
        &#34;&#34;&#34;
        Transform a value into a SQL value.

        Parameters
        ----------
        val : Optional[Any]
            the value to transform into a SQL value as a string, int, float, bool, None or a list of strings, ints, floats, bools or Nones

        Returns
        -------
        Any
            the value as a SQL value as a string, int, float, bool, None or a list of strings, ints, floats, bools or Nones.
        &#34;&#34;&#34;
        if isinstance(val, str):
            return &#34;&#39;%s&#39;&#34; % val
        return val

    def raw_query(self, query: str) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        Execute raw query. If the query is not valid, raise an exception. If the query is valid, return the result.

        Parameters
        ----------
        query : str
            the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)

        Raises
        ------
        SurrealError
            if the query is not valid, raise SurrealError with the error message

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the result of the query as a list of dictionaries or a dictionary if the query is valid or None if the query is not valid.
        &#34;&#34;&#34;
        # execute a raw query
        return self.__post(&#34;sql&#34;, query=query)

    def mapped_query(self, query: str) -&gt; SurrealResponse:
        &#34;&#34;&#34;
        Execute mapped query. If the query is not valid, raise an exception. If the query is valid, return the result.

        Parameters
        ----------
        query : str
            the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)

        Raises
        ------
        SurrealError
            if the query is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object
        &#34;&#34;&#34;
        # execute a mapped query
        return SurrealResponse(self.raw_query(query))

    def query(self, query: str, **kwargs) -&gt; SurrealResponse:
        &#34;&#34;&#34;
        Execute a query. If the query is not valid, raise an exception. If the query is valid, return the result.

        Parameters
        ----------
        query : str
            the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)
        kwargs : dict[str,Any]
            the values to replace in the query as a dictionary

        Raises
        ------
        SurrealError
            if the query is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object
        &#34;&#34;&#34;
        # query the database
        return self.mapped_query(query.format(**kwargs))

    def let(self, key, val) -&gt; None:
        &#34;&#34;&#34;
        Let a value in the database. If the value is not valid, raise an exception. If the value is valid, return the result.

        Parameters
        ----------
        key : str
            the key to let as a string
        val : Any
            the value to let as a string, int, float, bool, None or a list of strings, ints, floats, bools or Nones

        Raises
        ------
        SurrealError
            if the value is not valid, raise SurrealError with the error message
        &#34;&#34;&#34;
        return self.mapped_query(
            &#34;LET ${}={}&#34;.format(key, self.__transform_into_sql_val(val))
        )

    def select(self, tid: str) -&gt; SurrealResponse:
        &#34;&#34;&#34;
        Select a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.
        tid is the id of a table or table name. If the tid is not valid, raise an exception

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return self.mapped_query(&#34;SELECT * FROM {}&#34;.format(tid))

    def create(self, tid: str, data: Optional[dict] = None) -&gt; SurrealResponse:
        &#34;&#34;&#34;
        Create a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return (
            self.mapped_query(f&#34;CREATE {tid} CONTENT {json_dumps(data)}&#34;)
            if data is not None
            else self.mapped_query(f&#34;CREATE {tid}&#34;)
        )

    def update(self, tid: str, data: Optional[dict] = None):
        &#34;&#34;&#34;
        Update a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return (
            self.mapped_query(f&#34;UPDATE {tid}&#34;)
            if data is not None
            else self.mapped_query(f&#34;UPDATE {tid} CONTENT {json_dumps(data)}&#34;)
        )

    def change(self, tid: str, data: Optional[dict] = None):
        &#34;&#34;&#34;
        Change a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return (
            self.mapped_query(f&#34;UPDATE {tid}&#34;)
            if data is not None
            else self.mapped_query(f&#34;UPDATE {tid} MERGE {json_dumps(data)}&#34;)
        )

    def modify(self, tid: str, data: Optional[dict] = None):
        &#34;&#34;&#34;
        Modify a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return (
            self.mapped_query(f&#34;UPDATE {tid}&#34;)
            if data is not None
            else self.mapped_query(f&#34;UPDATE {tid} PATCH {json_dumps(data)}&#34;)
        )

    def delete(self, tid: str):
        &#34;&#34;&#34;
        Delete a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return self.mapped_query(f&#34;DELETE * FROM {tid}&#34;)

    async def __aenter__(self) -&gt; &#34;Client&#34;:
        &#34;&#34;&#34;
        Enter the async context manager. Return the client.

        Returns
        -------
        Client
            the client instance
        &#34;&#34;&#34;
        await self.connect()
        return self

    async def __aexit__(
        self,
        exc_type: Optional[BaseException] = None,
        exc_value: Optional[BaseException] = None,
        traceback: Optional[TracebackType] = None,
    ) -&gt; None:
        &#34;&#34;&#34;
        Exit the async context manager. Close the connection.

        Parameters
        ----------
        exc_type : Optional[BaseException] (default: None)
            the exception type
        exc_value : Optional[BaseException] (default: None)
            the exception value
        traceback : Optional[TracebackType] (default: None)
            the traceback type
        &#34;&#34;&#34;
        await self.disconnect()

    async def connect(self) -&gt; None:
        &#34;&#34;&#34;
        Connect to the database. If the connection is already established, raise an exception.
        &#34;&#34;&#34;
        await self.__session.__aenter__()

    async def disconnect(self) -&gt; None:
        &#34;&#34;&#34;
        Disconnect from the database. If the connection is already closed, raise an exception. If the connection is not closed, close the connection.
        &#34;&#34;&#34;
        await self.__session.aclose()</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="surrealpy.http.models" href="models.html">surrealpy.http.models</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="surrealpy.http.AsyncClient"><code class="flex name class">
<span>class <span class="ident">AsyncClient</span></span>
<span>(</span><span>uri: str, namespace: str, database: str, *, username: str, password: str)</span>
</code></dt>
<dd>
<div class="desc"><p>This class is a wrapper for the SurrealDB HTTP API.
&hellip;
Parameters</p>
<hr>
<dl>
<dt><strong><code>uri</code></strong> :&ensp;<code>str</code></dt>
<dd>The URI of the SurrealDB server.</dd>
<dt><strong><code>namespace</code></strong> :&ensp;<code>str</code></dt>
<dd>The namespace of the database.</dd>
<dt><strong><code>database</code></strong> :&ensp;<code>str</code></dt>
<dd>The name of the database.</dd>
<dt><strong><code>username</code></strong> :&ensp;<code>str</code></dt>
<dd>The username of the database.</dd>
<dt><strong><code>password</code></strong> :&ensp;<code>str</code></dt>
<dd>The password of the database.</dd>
</dl>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>uri</code></strong> :&ensp;<code>str</code></dt>
<dd>the uri of the database</dd>
<dt><strong><code>namespace</code></strong> :&ensp;<code>str</code></dt>
<dd>the namespace of the database</dd>
<dt><strong><code>database</code></strong> :&ensp;<code>str</code></dt>
<dd>the database name</dd>
<dt><strong><code>username</code></strong> :&ensp;<code>str</code></dt>
<dd>the username of the database</dd>
<dt><strong><code>password</code></strong> :&ensp;<code>str</code></dt>
<dd>the password of the database</dd>
</dl>
<p>Constructor of the class.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>uri</code></strong> :&ensp;<code>str</code></dt>
<dd>The URI of the SurrealDB server.</dd>
<dt><strong><code>namespace</code></strong> :&ensp;<code>str</code></dt>
<dd>The namespace of the database.</dd>
<dt><strong><code>database</code></strong> :&ensp;<code>str</code></dt>
<dd>The name of the database.</dd>
<dt><strong><code>username</code></strong> :&ensp;<code>str</code></dt>
<dd>The username of the database.</dd>
<dt><strong><code>password</code></strong> :&ensp;<code>str</code></dt>
<dd>The password of the database.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AsyncClient:
    &#34;&#34;&#34;
    This class is a wrapper for the SurrealDB HTTP API.
    ...
    Parameters
    ----------
    uri : str
        The URI of the SurrealDB server.
    namespace : str
        The namespace of the database.
    database : str
        The name of the database.
    username : str
        The username of the database.
    password : str
        The password of the database.

    Attributes
    ----------
    uri : str
        the uri of the database
    namespace : str
        the namespace of the database
    database : str
        the database name
    username : str
        the username of the database
    password : str
        the password of the database

    &#34;&#34;&#34;

    def __init__(
        self, uri: str, namespace: str, database: str, *, username: str, password: str
    ) -&gt; None:
        &#34;&#34;&#34;
        Constructor of the class.

        Parameters
        ----------
        uri : str
            The URI of the SurrealDB server.
        namespace : str
            The namespace of the database.
        database : str
            The name of the database.
        username : str
            The username of the database.
        password : str
            The password of the database.
        &#34;&#34;&#34;
        self.__session = httpx.AsyncClient(
            auth=httpx.BasicAuth(username=username, password=password)
        )
        self.__session.headers.update(
            {
                &#34;Content-Type&#34;: &#34;application/json&#34;,
                &#34;Accept&#34;: &#34;application/json&#34;,
                &#34;NS&#34;: namespace,
                &#34;DB&#34;: database,
            }
        )
        self.__uri = uri
        self.__baseurl = base_url(uri)
        self.__ns = namespace
        self.__db = database

    @property
    def ns(self) -&gt; str:
        &#34;&#34;&#34;
        The namespace of the database.

        Returns
        -------
        str
            the namespace of the database
        &#34;&#34;&#34;
        return self.__ns

    @property
    def db(self) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        The databases in the namespace.

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the databases in the namespace as a list of dictionaries or a dictionary
        &#34;&#34;&#34;
        return self.__db

    async def tables(self) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        The tables in the database.

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the tables in the database as a list of dictionaries or a dictionary
        &#34;&#34;&#34;
        # retrieve all tables
        data = await self.raw_query(&#34;INFO FOR DB;&#34;)
        for i in data[0][&#34;result&#34;][&#34;tb&#34;].keys():
            yield i

    @property
    def uri(self) -&gt; str:
        &#34;&#34;&#34;
        The URI of the SurrealDB server.

        Returns
        -------
        str
            the URI of the SurrealDB server as a string
        &#34;&#34;&#34;
        return self.__uri

    async def __check(self) -&gt; None:
        &#34;&#34;&#34;
        Check if the connection is valid. If not, raise an exception.

        Raises
        ------
        ConnectionError
            if the connection is not valid or the database does not exist or the namespace does not exist or the username or password is wrong or the database is not accessible raise ConnectionError

        Returns
        -------
        None
        &#34;&#34;&#34;
        await self.query(&#34;INFO FOR DB;&#34;)

    async def __post(
        self, *extends: tuple[str], query: str
    ) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        Execute a query. If the query is not valid, raise an exception. If the query is valid, return the result.

        Parameters
        ----------
        query : str
            the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)
        extends : tuple[str]
            the extensions to add to the base url of the database connection.

        Raises
        ------
        SurrealError
            if the query is not valid, raise SurrealError with the error message

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the result of the query as a list of dictionaries or a dictionary if the query is valid
        &#34;&#34;&#34;
        extend_uri = self.__baseurl + &#34;/&#34; + &#34;/&#34;.join(extends)
        response: httpx.Response = await self.__session.post(extend_uri, content=query)
        if response.status_code == 200:
            return json_loads(await response.aread())
        elif response.status_code == 400:
            logger.error(await response.aread())
            raise SurrealError(json_loads(await response.aread())[&#34;information&#34;])
        else:
            logger.error(await response.aread())
            return None

    async def __get(self, *extends: tuple[Any]) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        Make a get request to the database. If the request is not valid, raise an exception. If the request is valid, return the result.

        Parameters
        ----------
        extends : tuple[Any]
            the extensions to add to the base url of the database connection.

        Raises
        ------
        SurrealError
            if the request is not valid, raise SurrealError with the error message

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the result of the request as a list of dictionaries or a dictionary if the request is valid or None if the request is not valid.
        &#34;&#34;&#34;
        extend_uri = self.__baseurl + &#34;/&#34; + &#34;/&#34;.join(extends)
        response: httpx.Response = await self.__session.get(extend_uri)
        logger.debug(await response.aread())
        if response.status_code == 200:
            return json_loads(await response.aread())
        else:
            return None

    def __transform_into_sql_val(val: Any) -&gt; Optional[Any]:
        &#34;&#34;&#34;
        Transform a value into a SQL value.

        Parameters
        ----------
        val : Optional[Any]
            the value to transform into a SQL value as a string, int, float, bool, None or a list of strings, ints, floats, bools or Nones

        Returns
        -------
        Any
            the value as a SQL value as a string, int, float, bool, None or a list of strings, ints, floats, bools or Nones.
        &#34;&#34;&#34;
        if isinstance(val, str):
            return &#34;&#39;%s&#39;&#34; % val
        return val

    async def raw_query(self, query: str) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        Execute raw query. If the query is not valid, raise an exception. If the query is valid, return the result.

        Parameters
        ----------
        query : str
            the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)

        Raises
        ------
        SurrealError
            if the query is not valid, raise SurrealError with the error message

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the result of the query as a list of dictionaries or a dictionary if the query is valid or None if the query is not valid.
        &#34;&#34;&#34;
        # execute a raw query
        return await self.__post(&#34;sql&#34;, query=query)

    async def mapped_query(self, query: str) -&gt; SurrealResponse:
        &#34;&#34;&#34;
        Execute mapped query. If the query is not valid, raise an exception. If the query is valid, return the result.

        Parameters
        ----------
        query : str
            the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)

        Raises
        ------
        SurrealError
            if the query is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object
        &#34;&#34;&#34;
        # execute a mapped query
        return SurrealResponse(await self.raw_query(query))

    async def query(self, query: str, **kwargs) -&gt; SurrealResponse:
        &#34;&#34;&#34;
        Execute a query. If the query is not valid, raise an exception. If the query is valid, return the result.

        Parameters
        ----------
        query : str
            the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)
        kwargs : dict[str,Any]
            the values to replace in the query as a dictionary

        Raises
        ------
        SurrealError
            if the query is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object
        &#34;&#34;&#34;
        # query the database
        return await self.mapped_query(query.format(**kwargs))

    async def let(self, key, val) -&gt; None:
        &#34;&#34;&#34;
        Let a value in the database. If the value is not valid, raise an exception. If the value is valid, return the result.

        Parameters
        ----------
        key : str
            the key to let as a string
        val : Any
            the value to let as a string, int, float, bool, None or a list of strings, ints, floats, bools or Nones

        Raises
        ------
        SurrealError
            if the value is not valid, raise SurrealError with the error message
        &#34;&#34;&#34;
        return await self.mapped_query(
            &#34;LET ${}={}&#34;.format(key, self.__transform_into_sql_val(val))
        )

    async def select(self, tid: str) -&gt; SurrealResponse:
        &#34;&#34;&#34;
        Select a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.
        tid is the id of a table or table name. If the tid is not valid, raise an exception

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return await self.mapped_query(&#34;SELECT * FROM {}&#34;.format(tid))

    async def create(self, tid: str, data: Optional[dict] = None) -&gt; SurrealResponse:
        &#34;&#34;&#34;
        Create a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return (
            await self.mapped_query(f&#34;CREATE {tid} CONTENT {json_dumps(data)}&#34;)
            if data is not None
            else await self.mapped_query(f&#34;CREATE {tid}&#34;)
        )

    async def update(self, tid: str, data: Optional[dict] = None):
        &#34;&#34;&#34;
        Update a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return (
            await self.mapped_query(f&#34;UPDATE {tid}&#34;)
            if data is not None
            else await self.mapped_query(f&#34;UPDATE {tid} CONTENT {json_dumps(data)}&#34;)
        )

    async def change(self, tid: str, data: Optional[dict] = None):
        &#34;&#34;&#34;
        Change a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return (
            await self.mapped_query(f&#34;UPDATE {tid}&#34;)
            if data is not None
            else await self.mapped_query(f&#34;UPDATE {tid} MERGE {json_dumps(data)}&#34;)
        )

    async def modify(self, tid: str, data: Optional[dict] = None):
        &#34;&#34;&#34;
        Modify a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return (
            await self.mapped_query(f&#34;UPDATE {tid}&#34;)
            if data is not None
            else await self.mapped_query(f&#34;UPDATE {tid} PATCH {json_dumps(data)}&#34;)
        )

    async def delete(self, tid: str):
        &#34;&#34;&#34;
        Delete a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return await self.mapped_query(f&#34;DELETE * FROM {tid}&#34;)</code></pre>
</details>
<h3>Instance variables</h3>
<dl>
<dt id="surrealpy.http.AsyncClient.db"><code class="name">var <span class="ident">db</span> : Union[dict[str, Any], list[Any]]</code></dt>
<dd>
<div class="desc"><p>The databases in the namespace.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Union[dict[str,Any],list[Any]]</code></dt>
<dd>the databases in the namespace as a list of dictionaries or a dictionary</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def db(self) -&gt; Union[dict[str, Any], list[Any]]:
    &#34;&#34;&#34;
    The databases in the namespace.

    Returns
    -------
    Union[dict[str,Any],list[Any]]
        the databases in the namespace as a list of dictionaries or a dictionary
    &#34;&#34;&#34;
    return self.__db</code></pre>
</details>
</dd>
<dt id="surrealpy.http.AsyncClient.ns"><code class="name">var <span class="ident">ns</span> : str</code></dt>
<dd>
<div class="desc"><p>The namespace of the database.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>the namespace of the database</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def ns(self) -&gt; str:
    &#34;&#34;&#34;
    The namespace of the database.

    Returns
    -------
    str
        the namespace of the database
    &#34;&#34;&#34;
    return self.__ns</code></pre>
</details>
</dd>
<dt id="surrealpy.http.AsyncClient.uri"><code class="name">var <span class="ident">uri</span> : str</code></dt>
<dd>
<div class="desc"><p>The URI of the SurrealDB server.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>the URI of the SurrealDB server as a string</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def uri(self) -&gt; str:
    &#34;&#34;&#34;
    The URI of the SurrealDB server.

    Returns
    -------
    str
        the URI of the SurrealDB server as a string
    &#34;&#34;&#34;
    return self.__uri</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="surrealpy.http.AsyncClient.change"><code class="name flex">
<span>async def <span class="ident">change</span></span>(<span>self, tid: str, data: Optional[dict] = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Change a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>tid</code></strong> :&ensp;<code>str</code></dt>
<dd>the tid to select as a string. tid is the id of a table or table name</dd>
<dt><strong><code>data</code></strong> :&ensp;<code>Optional[dict] (default: None)</code></dt>
<dd>the data to create as a dictionary</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the tid is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>SurrealResponse</code></dt>
<dd>the result of the query as a SurrealResponse object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def change(self, tid: str, data: Optional[dict] = None):
    &#34;&#34;&#34;
    Change a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

    Parameters
    ----------
    tid : str
        the tid to select as a string. tid is the id of a table or table name
    data : Optional[dict] (default: None)
        the data to create as a dictionary

    Raises
    ------
    SurrealError
        if the tid is not valid, raise SurrealError with the error message

    Returns
    -------
    SurrealResponse
        the result of the query as a SurrealResponse object

    &#34;&#34;&#34;
    return (
        await self.mapped_query(f&#34;UPDATE {tid}&#34;)
        if data is not None
        else await self.mapped_query(f&#34;UPDATE {tid} MERGE {json_dumps(data)}&#34;)
    )</code></pre>
</details>
</dd>
<dt id="surrealpy.http.AsyncClient.create"><code class="name flex">
<span>async def <span class="ident">create</span></span>(<span>self, tid: str, data: Optional[dict] = None) ‑> <a title="surrealpy.http.models.SurrealResponse" href="models.html#surrealpy.http.models.SurrealResponse">SurrealResponse</a></span>
</code></dt>
<dd>
<div class="desc"><p>Create a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>tid</code></strong> :&ensp;<code>str</code></dt>
<dd>the tid to select as a string. tid is the id of a table or table name</dd>
<dt><strong><code>data</code></strong> :&ensp;<code>Optional[dict] (default: None)</code></dt>
<dd>the data to create as a dictionary</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the tid is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>SurrealResponse</code></dt>
<dd>the result of the query as a SurrealResponse object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def create(self, tid: str, data: Optional[dict] = None) -&gt; SurrealResponse:
    &#34;&#34;&#34;
    Create a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

    Parameters
    ----------
    tid : str
        the tid to select as a string. tid is the id of a table or table name
    data : Optional[dict] (default: None)
        the data to create as a dictionary

    Raises
    ------
    SurrealError
        if the tid is not valid, raise SurrealError with the error message

    Returns
    -------
    SurrealResponse
        the result of the query as a SurrealResponse object

    &#34;&#34;&#34;
    return (
        await self.mapped_query(f&#34;CREATE {tid} CONTENT {json_dumps(data)}&#34;)
        if data is not None
        else await self.mapped_query(f&#34;CREATE {tid}&#34;)
    )</code></pre>
</details>
</dd>
<dt id="surrealpy.http.AsyncClient.delete"><code class="name flex">
<span>async def <span class="ident">delete</span></span>(<span>self, tid: str)</span>
</code></dt>
<dd>
<div class="desc"><p>Delete a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>tid</code></strong> :&ensp;<code>str</code></dt>
<dd>the tid to select as a string. tid is the id of a table or table name</dd>
<dt><strong><code>data</code></strong> :&ensp;<code>Optional[dict] (default: None)</code></dt>
<dd>the data to create as a dictionary</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the tid is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>SurrealResponse</code></dt>
<dd>the result of the query as a SurrealResponse object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def delete(self, tid: str):
    &#34;&#34;&#34;
    Delete a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

    Parameters
    ----------
    tid : str
        the tid to select as a string. tid is the id of a table or table name
    data : Optional[dict] (default: None)
        the data to create as a dictionary

    Raises
    ------
    SurrealError
        if the tid is not valid, raise SurrealError with the error message

    Returns
    -------
    SurrealResponse
        the result of the query as a SurrealResponse object

    &#34;&#34;&#34;
    return await self.mapped_query(f&#34;DELETE * FROM {tid}&#34;)</code></pre>
</details>
</dd>
<dt id="surrealpy.http.AsyncClient.let"><code class="name flex">
<span>async def <span class="ident">let</span></span>(<span>self, key, val) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Let a value in the database. If the value is not valid, raise an exception. If the value is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>key</code></strong> :&ensp;<code>str</code></dt>
<dd>the key to let as a string</dd>
<dt><strong><code>val</code></strong> :&ensp;<code>Any</code></dt>
<dd>the value to let as a string, int, float, bool, None or a list of strings, ints, floats, bools or Nones</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the value is not valid, raise SurrealError with the error message</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def let(self, key, val) -&gt; None:
    &#34;&#34;&#34;
    Let a value in the database. If the value is not valid, raise an exception. If the value is valid, return the result.

    Parameters
    ----------
    key : str
        the key to let as a string
    val : Any
        the value to let as a string, int, float, bool, None or a list of strings, ints, floats, bools or Nones

    Raises
    ------
    SurrealError
        if the value is not valid, raise SurrealError with the error message
    &#34;&#34;&#34;
    return await self.mapped_query(
        &#34;LET ${}={}&#34;.format(key, self.__transform_into_sql_val(val))
    )</code></pre>
</details>
</dd>
<dt id="surrealpy.http.AsyncClient.mapped_query"><code class="name flex">
<span>async def <span class="ident">mapped_query</span></span>(<span>self, query: str) ‑> <a title="surrealpy.http.models.SurrealResponse" href="models.html#surrealpy.http.models.SurrealResponse">SurrealResponse</a></span>
</code></dt>
<dd>
<div class="desc"><p>Execute mapped query. If the query is not valid, raise an exception. If the query is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>query</code></strong> :&ensp;<code>str</code></dt>
<dd>the query to execute as a string in surrealql format (<a href="https://surrealdb.com/docs/surrealql">https://surrealdb.com/docs/surrealql</a>)</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the query is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>SurrealResponse</code></dt>
<dd>the result of the query as a SurrealResponse object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def mapped_query(self, query: str) -&gt; SurrealResponse:
    &#34;&#34;&#34;
    Execute mapped query. If the query is not valid, raise an exception. If the query is valid, return the result.

    Parameters
    ----------
    query : str
        the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)

    Raises
    ------
    SurrealError
        if the query is not valid, raise SurrealError with the error message

    Returns
    -------
    SurrealResponse
        the result of the query as a SurrealResponse object
    &#34;&#34;&#34;
    # execute a mapped query
    return SurrealResponse(await self.raw_query(query))</code></pre>
</details>
</dd>
<dt id="surrealpy.http.AsyncClient.modify"><code class="name flex">
<span>async def <span class="ident">modify</span></span>(<span>self, tid: str, data: Optional[dict] = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Modify a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>tid</code></strong> :&ensp;<code>str</code></dt>
<dd>the tid to select as a string. tid is the id of a table or table name</dd>
<dt><strong><code>data</code></strong> :&ensp;<code>Optional[dict] (default: None)</code></dt>
<dd>the data to create as a dictionary</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the tid is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>SurrealResponse</code></dt>
<dd>the result of the query as a SurrealResponse object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def modify(self, tid: str, data: Optional[dict] = None):
    &#34;&#34;&#34;
    Modify a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

    Parameters
    ----------
    tid : str
        the tid to select as a string. tid is the id of a table or table name
    data : Optional[dict] (default: None)
        the data to create as a dictionary

    Raises
    ------
    SurrealError
        if the tid is not valid, raise SurrealError with the error message

    Returns
    -------
    SurrealResponse
        the result of the query as a SurrealResponse object

    &#34;&#34;&#34;
    return (
        await self.mapped_query(f&#34;UPDATE {tid}&#34;)
        if data is not None
        else await self.mapped_query(f&#34;UPDATE {tid} PATCH {json_dumps(data)}&#34;)
    )</code></pre>
</details>
</dd>
<dt id="surrealpy.http.AsyncClient.query"><code class="name flex">
<span>async def <span class="ident">query</span></span>(<span>self, query: str, **kwargs) ‑> <a title="surrealpy.http.models.SurrealResponse" href="models.html#surrealpy.http.models.SurrealResponse">SurrealResponse</a></span>
</code></dt>
<dd>
<div class="desc"><p>Execute a query. If the query is not valid, raise an exception. If the query is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>query</code></strong> :&ensp;<code>str</code></dt>
<dd>the query to execute as a string in surrealql format (<a href="https://surrealdb.com/docs/surrealql">https://surrealdb.com/docs/surrealql</a>)</dd>
<dt><strong><code>kwargs</code></strong> :&ensp;<code>dict[str,Any]</code></dt>
<dd>the values to replace in the query as a dictionary</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the query is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>SurrealResponse</code></dt>
<dd>the result of the query as a SurrealResponse object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def query(self, query: str, **kwargs) -&gt; SurrealResponse:
    &#34;&#34;&#34;
    Execute a query. If the query is not valid, raise an exception. If the query is valid, return the result.

    Parameters
    ----------
    query : str
        the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)
    kwargs : dict[str,Any]
        the values to replace in the query as a dictionary

    Raises
    ------
    SurrealError
        if the query is not valid, raise SurrealError with the error message

    Returns
    -------
    SurrealResponse
        the result of the query as a SurrealResponse object
    &#34;&#34;&#34;
    # query the database
    return await self.mapped_query(query.format(**kwargs))</code></pre>
</details>
</dd>
<dt id="surrealpy.http.AsyncClient.raw_query"><code class="name flex">
<span>async def <span class="ident">raw_query</span></span>(<span>self, query: str) ‑> Union[dict[str, Any], list[Any]]</span>
</code></dt>
<dd>
<div class="desc"><p>Execute raw query. If the query is not valid, raise an exception. If the query is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>query</code></strong> :&ensp;<code>str</code></dt>
<dd>the query to execute as a string in surrealql format (<a href="https://surrealdb.com/docs/surrealql">https://surrealdb.com/docs/surrealql</a>)</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the query is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Union[dict[str,Any],list[Any]]</code></dt>
<dd>the result of the query as a list of dictionaries or a dictionary if the query is valid or None if the query is not valid.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def raw_query(self, query: str) -&gt; Union[dict[str, Any], list[Any]]:
    &#34;&#34;&#34;
    Execute raw query. If the query is not valid, raise an exception. If the query is valid, return the result.

    Parameters
    ----------
    query : str
        the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)

    Raises
    ------
    SurrealError
        if the query is not valid, raise SurrealError with the error message

    Returns
    -------
    Union[dict[str,Any],list[Any]]
        the result of the query as a list of dictionaries or a dictionary if the query is valid or None if the query is not valid.
    &#34;&#34;&#34;
    # execute a raw query
    return await self.__post(&#34;sql&#34;, query=query)</code></pre>
</details>
</dd>
<dt id="surrealpy.http.AsyncClient.select"><code class="name flex">
<span>async def <span class="ident">select</span></span>(<span>self, tid: str) ‑> <a title="surrealpy.http.models.SurrealResponse" href="models.html#surrealpy.http.models.SurrealResponse">SurrealResponse</a></span>
</code></dt>
<dd>
<div class="desc"><p>Select a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.
tid is the id of a table or table name. If the tid is not valid, raise an exception</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>tid</code></strong> :&ensp;<code>str</code></dt>
<dd>the tid to select as a string. tid is the id of a table or table name</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the tid is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>SurrealResponse</code></dt>
<dd>the result of the query as a SurrealResponse object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def select(self, tid: str) -&gt; SurrealResponse:
    &#34;&#34;&#34;
    Select a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.
    tid is the id of a table or table name. If the tid is not valid, raise an exception

    Parameters
    ----------
    tid : str
        the tid to select as a string. tid is the id of a table or table name

    Raises
    ------
    SurrealError
        if the tid is not valid, raise SurrealError with the error message

    Returns
    -------
    SurrealResponse
        the result of the query as a SurrealResponse object

    &#34;&#34;&#34;
    return await self.mapped_query(&#34;SELECT * FROM {}&#34;.format(tid))</code></pre>
</details>
</dd>
<dt id="surrealpy.http.AsyncClient.tables"><code class="name flex">
<span>async def <span class="ident">tables</span></span>(<span>self) ‑> Union[dict[str, Any], list[Any]]</span>
</code></dt>
<dd>
<div class="desc"><p>The tables in the database.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Union[dict[str,Any],list[Any]]</code></dt>
<dd>the tables in the database as a list of dictionaries or a dictionary</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def tables(self) -&gt; Union[dict[str, Any], list[Any]]:
    &#34;&#34;&#34;
    The tables in the database.

    Returns
    -------
    Union[dict[str,Any],list[Any]]
        the tables in the database as a list of dictionaries or a dictionary
    &#34;&#34;&#34;
    # retrieve all tables
    data = await self.raw_query(&#34;INFO FOR DB;&#34;)
    for i in data[0][&#34;result&#34;][&#34;tb&#34;].keys():
        yield i</code></pre>
</details>
</dd>
<dt id="surrealpy.http.AsyncClient.update"><code class="name flex">
<span>async def <span class="ident">update</span></span>(<span>self, tid: str, data: Optional[dict] = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Update a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>tid</code></strong> :&ensp;<code>str</code></dt>
<dd>the tid to select as a string. tid is the id of a table or table name</dd>
<dt><strong><code>data</code></strong> :&ensp;<code>Optional[dict] (default: None)</code></dt>
<dd>the data to create as a dictionary</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the tid is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>SurrealResponse</code></dt>
<dd>the result of the query as a SurrealResponse object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def update(self, tid: str, data: Optional[dict] = None):
    &#34;&#34;&#34;
    Update a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

    Parameters
    ----------
    tid : str
        the tid to select as a string. tid is the id of a table or table name
    data : Optional[dict] (default: None)
        the data to create as a dictionary

    Raises
    ------
    SurrealError
        if the tid is not valid, raise SurrealError with the error message

    Returns
    -------
    SurrealResponse
        the result of the query as a SurrealResponse object

    &#34;&#34;&#34;
    return (
        await self.mapped_query(f&#34;UPDATE {tid}&#34;)
        if data is not None
        else await self.mapped_query(f&#34;UPDATE {tid} CONTENT {json_dumps(data)}&#34;)
    )</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="surrealpy.http.Client"><code class="flex name class">
<span>class <span class="ident">Client</span></span>
<span>(</span><span>uri: str, namespace: str, database: str, *, username: str, password: str)</span>
</code></dt>
<dd>
<div class="desc"><p>This class is a wrapper for the SurrealDB HTTP API.
&hellip;
Parameters</p>
<hr>
<dl>
<dt><strong><code>uri</code></strong> :&ensp;<code>str</code></dt>
<dd>The URI of the SurrealDB server.</dd>
<dt><strong><code>namespace</code></strong> :&ensp;<code>str</code></dt>
<dd>The namespace of the database.</dd>
<dt><strong><code>database</code></strong> :&ensp;<code>str</code></dt>
<dd>The name of the database.</dd>
<dt><strong><code>username</code></strong> :&ensp;<code>str</code></dt>
<dd>The username of the database.</dd>
<dt><strong><code>password</code></strong> :&ensp;<code>str</code></dt>
<dd>The password of the database.</dd>
</dl>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>uri</code></strong> :&ensp;<code>str</code></dt>
<dd>the uri of the database</dd>
<dt><strong><code>namespace</code></strong> :&ensp;<code>str</code></dt>
<dd>the namespace of the database</dd>
<dt><strong><code>database</code></strong> :&ensp;<code>str</code></dt>
<dd>the database name</dd>
<dt><strong><code>username</code></strong> :&ensp;<code>str</code></dt>
<dd>the username of the database</dd>
<dt><strong><code>password</code></strong> :&ensp;<code>str</code></dt>
<dd>the password of the database</dd>
</dl>
<p>Constructor of the class.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>uri</code></strong> :&ensp;<code>str</code></dt>
<dd>The URI of the SurrealDB server.</dd>
<dt><strong><code>namespace</code></strong> :&ensp;<code>str</code></dt>
<dd>The namespace of the database.</dd>
<dt><strong><code>database</code></strong> :&ensp;<code>str</code></dt>
<dd>The name of the database.</dd>
<dt><strong><code>username</code></strong> :&ensp;<code>str</code></dt>
<dd>The username of the database.</dd>
<dt><strong><code>password</code></strong> :&ensp;<code>str</code></dt>
<dd>The password of the database.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Client:
    &#34;&#34;&#34;
    This class is a wrapper for the SurrealDB HTTP API.
    ...
    Parameters
    ----------
    uri : str
        The URI of the SurrealDB server.
    namespace : str
        The namespace of the database.
    database : str
        The name of the database.
    username : str
        The username of the database.
    password : str
        The password of the database.

    Attributes
    ----------
    uri : str
        the uri of the database
    namespace : str
        the namespace of the database
    database : str
        the database name
    username : str
        the username of the database
    password : str
        the password of the database

    &#34;&#34;&#34;

    def __init__(
        self, uri: str, namespace: str, database: str, *, username: str, password: str
    ) -&gt; None:
        &#34;&#34;&#34;
        Constructor of the class.

        Parameters
        ----------
        uri : str
            The URI of the SurrealDB server.
        namespace : str
            The namespace of the database.
        database : str
            The name of the database.
        username : str
            The username of the database.
        password : str
            The password of the database.
        &#34;&#34;&#34;
        self.__session = httpx.Client(
            auth=httpx.BasicAuth(username=username, password=password)
        )
        self.__session.headers.update(
            {
                &#34;Content-Type&#34;: &#34;application/json&#34;,
                &#34;Accept&#34;: &#34;application/json&#34;,
                &#34;NS&#34;: namespace,
                &#34;DB&#34;: database,
            }
        )
        self.__uri = uri
        self.__baseurl = base_url(uri)
        self.__check()
        self.__ns = namespace
        self.__db = database

    @property
    def ns(self) -&gt; str:
        &#34;&#34;&#34;
        The namespace of the database.

        Returns
        -------
        str
            the namespace of the database
        &#34;&#34;&#34;
        return self.__ns

    @property
    def db(self) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        The databases in the namespace.

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the databases in the namespace as a list of dictionaries or a dictionary
        &#34;&#34;&#34;
        return self.__db

    @property
    def tables(self) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        The tables in the database.

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the tables in the database as a list of dictionaries or a dictionary
        &#34;&#34;&#34;
        # retrieve all tables
        data = self.raw_query(&#34;INFO FOR DB;&#34;)
        for i in data[0][&#34;result&#34;][&#34;tb&#34;].keys():
            yield i

    @property
    def uri(self) -&gt; str:
        &#34;&#34;&#34;
        The URI of the SurrealDB server.

        Returns
        -------
        str
            the URI of the SurrealDB server as a string
        &#34;&#34;&#34;
        return self.__uri

    def __check(self) -&gt; None:
        &#34;&#34;&#34;
        Check if the connection is valid. If not, raise an exception.

        Raises
        ------
        ConnectionError
            if the connection is not valid or the database does not exist or the namespace does not exist or the username or password is wrong or the database is not accessible raise ConnectionError

        Returns
        -------
        None
        &#34;&#34;&#34;
        self.query(&#34;INFO FOR DB;&#34;)

    def __post(
        self, *extends: tuple[str], query: str
    ) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        Execute a query. If the query is not valid, raise an exception. If the query is valid, return the result.

        Parameters
        ----------
        query : str
            the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)
        extends : tuple[str]
            the extensions to add to the base url of the database connection.

        Raises
        ------
        SurrealError
            if the query is not valid, raise SurrealError with the error message

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the result of the query as a list of dictionaries or a dictionary if the query is valid
        &#34;&#34;&#34;
        extend_uri = self.__baseurl + &#34;/&#34; + &#34;/&#34;.join(extends)
        response: httpx.Response = self.__session.post(extend_uri, content=query)
        logger.debug(response.text)
        if response.status_code == 200:
            return json_loads(response.text)
        elif response.status_code == 400:
            logger.error(response.text)
            raise SurrealError(json_loads(response.text)[&#34;information&#34;])
        else:
            logger.error(response.text)
            return None

    def __get(self, *extends: tuple[Any]) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        Make a get request to the database. If the request is not valid, raise an exception. If the request is valid, return the result.

        Parameters
        ----------
        extends : tuple[Any]
            the extensions to add to the base url of the database connection.

        Raises
        ------
        SurrealError
            if the request is not valid, raise SurrealError with the error message

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the result of the request as a list of dictionaries or a dictionary if the request is valid or None if the request is not valid.
        &#34;&#34;&#34;
        extend_uri = self.__baseurl + &#34;/&#34; + &#34;/&#34;.join(extends)
        response: httpx.Response = self.__session.get(extend_uri)
        logger.debug(response.text)
        if response.status_code == 200:
            return json_loads(response.text)
        else:
            return None

    def __transform_into_sql_val(val: Any) -&gt; Optional[Any]:
        &#34;&#34;&#34;
        Transform a value into a SQL value.

        Parameters
        ----------
        val : Optional[Any]
            the value to transform into a SQL value as a string, int, float, bool, None or a list of strings, ints, floats, bools or Nones

        Returns
        -------
        Any
            the value as a SQL value as a string, int, float, bool, None or a list of strings, ints, floats, bools or Nones.
        &#34;&#34;&#34;
        if isinstance(val, str):
            return &#34;&#39;%s&#39;&#34; % val
        return val

    def raw_query(self, query: str) -&gt; Union[dict[str, Any], list[Any]]:
        &#34;&#34;&#34;
        Execute raw query. If the query is not valid, raise an exception. If the query is valid, return the result.

        Parameters
        ----------
        query : str
            the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)

        Raises
        ------
        SurrealError
            if the query is not valid, raise SurrealError with the error message

        Returns
        -------
        Union[dict[str,Any],list[Any]]
            the result of the query as a list of dictionaries or a dictionary if the query is valid or None if the query is not valid.
        &#34;&#34;&#34;
        # execute a raw query
        return self.__post(&#34;sql&#34;, query=query)

    def mapped_query(self, query: str) -&gt; SurrealResponse:
        &#34;&#34;&#34;
        Execute mapped query. If the query is not valid, raise an exception. If the query is valid, return the result.

        Parameters
        ----------
        query : str
            the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)

        Raises
        ------
        SurrealError
            if the query is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object
        &#34;&#34;&#34;
        # execute a mapped query
        return SurrealResponse(self.raw_query(query))

    def query(self, query: str, **kwargs) -&gt; SurrealResponse:
        &#34;&#34;&#34;
        Execute a query. If the query is not valid, raise an exception. If the query is valid, return the result.

        Parameters
        ----------
        query : str
            the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)
        kwargs : dict[str,Any]
            the values to replace in the query as a dictionary

        Raises
        ------
        SurrealError
            if the query is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object
        &#34;&#34;&#34;
        # query the database
        return self.mapped_query(query.format(**kwargs))

    def let(self, key, val) -&gt; None:
        &#34;&#34;&#34;
        Let a value in the database. If the value is not valid, raise an exception. If the value is valid, return the result.

        Parameters
        ----------
        key : str
            the key to let as a string
        val : Any
            the value to let as a string, int, float, bool, None or a list of strings, ints, floats, bools or Nones

        Raises
        ------
        SurrealError
            if the value is not valid, raise SurrealError with the error message
        &#34;&#34;&#34;
        return self.mapped_query(
            &#34;LET ${}={}&#34;.format(key, self.__transform_into_sql_val(val))
        )

    def select(self, tid: str) -&gt; SurrealResponse:
        &#34;&#34;&#34;
        Select a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.
        tid is the id of a table or table name. If the tid is not valid, raise an exception

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return self.mapped_query(&#34;SELECT * FROM {}&#34;.format(tid))

    def create(self, tid: str, data: Optional[dict] = None) -&gt; SurrealResponse:
        &#34;&#34;&#34;
        Create a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return (
            self.mapped_query(f&#34;CREATE {tid} CONTENT {json_dumps(data)}&#34;)
            if data is not None
            else self.mapped_query(f&#34;CREATE {tid}&#34;)
        )

    def update(self, tid: str, data: Optional[dict] = None):
        &#34;&#34;&#34;
        Update a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return (
            self.mapped_query(f&#34;UPDATE {tid}&#34;)
            if data is not None
            else self.mapped_query(f&#34;UPDATE {tid} CONTENT {json_dumps(data)}&#34;)
        )

    def change(self, tid: str, data: Optional[dict] = None):
        &#34;&#34;&#34;
        Change a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return (
            self.mapped_query(f&#34;UPDATE {tid}&#34;)
            if data is not None
            else self.mapped_query(f&#34;UPDATE {tid} MERGE {json_dumps(data)}&#34;)
        )

    def modify(self, tid: str, data: Optional[dict] = None):
        &#34;&#34;&#34;
        Modify a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return (
            self.mapped_query(f&#34;UPDATE {tid}&#34;)
            if data is not None
            else self.mapped_query(f&#34;UPDATE {tid} PATCH {json_dumps(data)}&#34;)
        )

    def delete(self, tid: str):
        &#34;&#34;&#34;
        Delete a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

        Parameters
        ----------
        tid : str
            the tid to select as a string. tid is the id of a table or table name
        data : Optional[dict] (default: None)
            the data to create as a dictionary

        Raises
        ------
        SurrealError
            if the tid is not valid, raise SurrealError with the error message

        Returns
        -------
        SurrealResponse
            the result of the query as a SurrealResponse object

        &#34;&#34;&#34;
        return self.mapped_query(f&#34;DELETE * FROM {tid}&#34;)

    async def __aenter__(self) -&gt; &#34;Client&#34;:
        &#34;&#34;&#34;
        Enter the async context manager. Return the client.

        Returns
        -------
        Client
            the client instance
        &#34;&#34;&#34;
        await self.connect()
        return self

    async def __aexit__(
        self,
        exc_type: Optional[BaseException] = None,
        exc_value: Optional[BaseException] = None,
        traceback: Optional[TracebackType] = None,
    ) -&gt; None:
        &#34;&#34;&#34;
        Exit the async context manager. Close the connection.

        Parameters
        ----------
        exc_type : Optional[BaseException] (default: None)
            the exception type
        exc_value : Optional[BaseException] (default: None)
            the exception value
        traceback : Optional[TracebackType] (default: None)
            the traceback type
        &#34;&#34;&#34;
        await self.disconnect()

    async def connect(self) -&gt; None:
        &#34;&#34;&#34;
        Connect to the database. If the connection is already established, raise an exception.
        &#34;&#34;&#34;
        await self.__session.__aenter__()

    async def disconnect(self) -&gt; None:
        &#34;&#34;&#34;
        Disconnect from the database. If the connection is already closed, raise an exception. If the connection is not closed, close the connection.
        &#34;&#34;&#34;
        await self.__session.aclose()</code></pre>
</details>
<h3>Instance variables</h3>
<dl>
<dt id="surrealpy.http.Client.db"><code class="name">var <span class="ident">db</span> : Union[dict[str, Any], list[Any]]</code></dt>
<dd>
<div class="desc"><p>The databases in the namespace.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Union[dict[str,Any],list[Any]]</code></dt>
<dd>the databases in the namespace as a list of dictionaries or a dictionary</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def db(self) -&gt; Union[dict[str, Any], list[Any]]:
    &#34;&#34;&#34;
    The databases in the namespace.

    Returns
    -------
    Union[dict[str,Any],list[Any]]
        the databases in the namespace as a list of dictionaries or a dictionary
    &#34;&#34;&#34;
    return self.__db</code></pre>
</details>
</dd>
<dt id="surrealpy.http.Client.ns"><code class="name">var <span class="ident">ns</span> : str</code></dt>
<dd>
<div class="desc"><p>The namespace of the database.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>the namespace of the database</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def ns(self) -&gt; str:
    &#34;&#34;&#34;
    The namespace of the database.

    Returns
    -------
    str
        the namespace of the database
    &#34;&#34;&#34;
    return self.__ns</code></pre>
</details>
</dd>
<dt id="surrealpy.http.Client.tables"><code class="name">var <span class="ident">tables</span> : Union[dict[str, Any], list[Any]]</code></dt>
<dd>
<div class="desc"><p>The tables in the database.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Union[dict[str,Any],list[Any]]</code></dt>
<dd>the tables in the database as a list of dictionaries or a dictionary</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def tables(self) -&gt; Union[dict[str, Any], list[Any]]:
    &#34;&#34;&#34;
    The tables in the database.

    Returns
    -------
    Union[dict[str,Any],list[Any]]
        the tables in the database as a list of dictionaries or a dictionary
    &#34;&#34;&#34;
    # retrieve all tables
    data = self.raw_query(&#34;INFO FOR DB;&#34;)
    for i in data[0][&#34;result&#34;][&#34;tb&#34;].keys():
        yield i</code></pre>
</details>
</dd>
<dt id="surrealpy.http.Client.uri"><code class="name">var <span class="ident">uri</span> : str</code></dt>
<dd>
<div class="desc"><p>The URI of the SurrealDB server.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>the URI of the SurrealDB server as a string</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def uri(self) -&gt; str:
    &#34;&#34;&#34;
    The URI of the SurrealDB server.

    Returns
    -------
    str
        the URI of the SurrealDB server as a string
    &#34;&#34;&#34;
    return self.__uri</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="surrealpy.http.Client.change"><code class="name flex">
<span>def <span class="ident">change</span></span>(<span>self, tid: str, data: Optional[dict] = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Change a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>tid</code></strong> :&ensp;<code>str</code></dt>
<dd>the tid to select as a string. tid is the id of a table or table name</dd>
<dt><strong><code>data</code></strong> :&ensp;<code>Optional[dict] (default: None)</code></dt>
<dd>the data to create as a dictionary</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the tid is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>SurrealResponse</code></dt>
<dd>the result of the query as a SurrealResponse object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def change(self, tid: str, data: Optional[dict] = None):
    &#34;&#34;&#34;
    Change a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

    Parameters
    ----------
    tid : str
        the tid to select as a string. tid is the id of a table or table name
    data : Optional[dict] (default: None)
        the data to create as a dictionary

    Raises
    ------
    SurrealError
        if the tid is not valid, raise SurrealError with the error message

    Returns
    -------
    SurrealResponse
        the result of the query as a SurrealResponse object

    &#34;&#34;&#34;
    return (
        self.mapped_query(f&#34;UPDATE {tid}&#34;)
        if data is not None
        else self.mapped_query(f&#34;UPDATE {tid} MERGE {json_dumps(data)}&#34;)
    )</code></pre>
</details>
</dd>
<dt id="surrealpy.http.Client.connect"><code class="name flex">
<span>async def <span class="ident">connect</span></span>(<span>self) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Connect to the database. If the connection is already established, raise an exception.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def connect(self) -&gt; None:
    &#34;&#34;&#34;
    Connect to the database. If the connection is already established, raise an exception.
    &#34;&#34;&#34;
    await self.__session.__aenter__()</code></pre>
</details>
</dd>
<dt id="surrealpy.http.Client.create"><code class="name flex">
<span>def <span class="ident">create</span></span>(<span>self, tid: str, data: Optional[dict] = None) ‑> <a title="surrealpy.http.models.SurrealResponse" href="models.html#surrealpy.http.models.SurrealResponse">SurrealResponse</a></span>
</code></dt>
<dd>
<div class="desc"><p>Create a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>tid</code></strong> :&ensp;<code>str</code></dt>
<dd>the tid to select as a string. tid is the id of a table or table name</dd>
<dt><strong><code>data</code></strong> :&ensp;<code>Optional[dict] (default: None)</code></dt>
<dd>the data to create as a dictionary</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the tid is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>SurrealResponse</code></dt>
<dd>the result of the query as a SurrealResponse object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create(self, tid: str, data: Optional[dict] = None) -&gt; SurrealResponse:
    &#34;&#34;&#34;
    Create a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

    Parameters
    ----------
    tid : str
        the tid to select as a string. tid is the id of a table or table name
    data : Optional[dict] (default: None)
        the data to create as a dictionary

    Raises
    ------
    SurrealError
        if the tid is not valid, raise SurrealError with the error message

    Returns
    -------
    SurrealResponse
        the result of the query as a SurrealResponse object

    &#34;&#34;&#34;
    return (
        self.mapped_query(f&#34;CREATE {tid} CONTENT {json_dumps(data)}&#34;)
        if data is not None
        else self.mapped_query(f&#34;CREATE {tid}&#34;)
    )</code></pre>
</details>
</dd>
<dt id="surrealpy.http.Client.delete"><code class="name flex">
<span>def <span class="ident">delete</span></span>(<span>self, tid: str)</span>
</code></dt>
<dd>
<div class="desc"><p>Delete a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>tid</code></strong> :&ensp;<code>str</code></dt>
<dd>the tid to select as a string. tid is the id of a table or table name</dd>
<dt><strong><code>data</code></strong> :&ensp;<code>Optional[dict] (default: None)</code></dt>
<dd>the data to create as a dictionary</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the tid is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>SurrealResponse</code></dt>
<dd>the result of the query as a SurrealResponse object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def delete(self, tid: str):
    &#34;&#34;&#34;
    Delete a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

    Parameters
    ----------
    tid : str
        the tid to select as a string. tid is the id of a table or table name
    data : Optional[dict] (default: None)
        the data to create as a dictionary

    Raises
    ------
    SurrealError
        if the tid is not valid, raise SurrealError with the error message

    Returns
    -------
    SurrealResponse
        the result of the query as a SurrealResponse object

    &#34;&#34;&#34;
    return self.mapped_query(f&#34;DELETE * FROM {tid}&#34;)</code></pre>
</details>
</dd>
<dt id="surrealpy.http.Client.disconnect"><code class="name flex">
<span>async def <span class="ident">disconnect</span></span>(<span>self) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Disconnect from the database. If the connection is already closed, raise an exception. If the connection is not closed, close the connection.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">async def disconnect(self) -&gt; None:
    &#34;&#34;&#34;
    Disconnect from the database. If the connection is already closed, raise an exception. If the connection is not closed, close the connection.
    &#34;&#34;&#34;
    await self.__session.aclose()</code></pre>
</details>
</dd>
<dt id="surrealpy.http.Client.let"><code class="name flex">
<span>def <span class="ident">let</span></span>(<span>self, key, val) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Let a value in the database. If the value is not valid, raise an exception. If the value is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>key</code></strong> :&ensp;<code>str</code></dt>
<dd>the key to let as a string</dd>
<dt><strong><code>val</code></strong> :&ensp;<code>Any</code></dt>
<dd>the value to let as a string, int, float, bool, None or a list of strings, ints, floats, bools or Nones</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the value is not valid, raise SurrealError with the error message</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def let(self, key, val) -&gt; None:
    &#34;&#34;&#34;
    Let a value in the database. If the value is not valid, raise an exception. If the value is valid, return the result.

    Parameters
    ----------
    key : str
        the key to let as a string
    val : Any
        the value to let as a string, int, float, bool, None or a list of strings, ints, floats, bools or Nones

    Raises
    ------
    SurrealError
        if the value is not valid, raise SurrealError with the error message
    &#34;&#34;&#34;
    return self.mapped_query(
        &#34;LET ${}={}&#34;.format(key, self.__transform_into_sql_val(val))
    )</code></pre>
</details>
</dd>
<dt id="surrealpy.http.Client.mapped_query"><code class="name flex">
<span>def <span class="ident">mapped_query</span></span>(<span>self, query: str) ‑> <a title="surrealpy.http.models.SurrealResponse" href="models.html#surrealpy.http.models.SurrealResponse">SurrealResponse</a></span>
</code></dt>
<dd>
<div class="desc"><p>Execute mapped query. If the query is not valid, raise an exception. If the query is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>query</code></strong> :&ensp;<code>str</code></dt>
<dd>the query to execute as a string in surrealql format (<a href="https://surrealdb.com/docs/surrealql">https://surrealdb.com/docs/surrealql</a>)</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the query is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>SurrealResponse</code></dt>
<dd>the result of the query as a SurrealResponse object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def mapped_query(self, query: str) -&gt; SurrealResponse:
    &#34;&#34;&#34;
    Execute mapped query. If the query is not valid, raise an exception. If the query is valid, return the result.

    Parameters
    ----------
    query : str
        the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)

    Raises
    ------
    SurrealError
        if the query is not valid, raise SurrealError with the error message

    Returns
    -------
    SurrealResponse
        the result of the query as a SurrealResponse object
    &#34;&#34;&#34;
    # execute a mapped query
    return SurrealResponse(self.raw_query(query))</code></pre>
</details>
</dd>
<dt id="surrealpy.http.Client.modify"><code class="name flex">
<span>def <span class="ident">modify</span></span>(<span>self, tid: str, data: Optional[dict] = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Modify a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>tid</code></strong> :&ensp;<code>str</code></dt>
<dd>the tid to select as a string. tid is the id of a table or table name</dd>
<dt><strong><code>data</code></strong> :&ensp;<code>Optional[dict] (default: None)</code></dt>
<dd>the data to create as a dictionary</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the tid is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>SurrealResponse</code></dt>
<dd>the result of the query as a SurrealResponse object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def modify(self, tid: str, data: Optional[dict] = None):
    &#34;&#34;&#34;
    Modify a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

    Parameters
    ----------
    tid : str
        the tid to select as a string. tid is the id of a table or table name
    data : Optional[dict] (default: None)
        the data to create as a dictionary

    Raises
    ------
    SurrealError
        if the tid is not valid, raise SurrealError with the error message

    Returns
    -------
    SurrealResponse
        the result of the query as a SurrealResponse object

    &#34;&#34;&#34;
    return (
        self.mapped_query(f&#34;UPDATE {tid}&#34;)
        if data is not None
        else self.mapped_query(f&#34;UPDATE {tid} PATCH {json_dumps(data)}&#34;)
    )</code></pre>
</details>
</dd>
<dt id="surrealpy.http.Client.query"><code class="name flex">
<span>def <span class="ident">query</span></span>(<span>self, query: str, **kwargs) ‑> <a title="surrealpy.http.models.SurrealResponse" href="models.html#surrealpy.http.models.SurrealResponse">SurrealResponse</a></span>
</code></dt>
<dd>
<div class="desc"><p>Execute a query. If the query is not valid, raise an exception. If the query is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>query</code></strong> :&ensp;<code>str</code></dt>
<dd>the query to execute as a string in surrealql format (<a href="https://surrealdb.com/docs/surrealql">https://surrealdb.com/docs/surrealql</a>)</dd>
<dt><strong><code>kwargs</code></strong> :&ensp;<code>dict[str,Any]</code></dt>
<dd>the values to replace in the query as a dictionary</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the query is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>SurrealResponse</code></dt>
<dd>the result of the query as a SurrealResponse object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def query(self, query: str, **kwargs) -&gt; SurrealResponse:
    &#34;&#34;&#34;
    Execute a query. If the query is not valid, raise an exception. If the query is valid, return the result.

    Parameters
    ----------
    query : str
        the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)
    kwargs : dict[str,Any]
        the values to replace in the query as a dictionary

    Raises
    ------
    SurrealError
        if the query is not valid, raise SurrealError with the error message

    Returns
    -------
    SurrealResponse
        the result of the query as a SurrealResponse object
    &#34;&#34;&#34;
    # query the database
    return self.mapped_query(query.format(**kwargs))</code></pre>
</details>
</dd>
<dt id="surrealpy.http.Client.raw_query"><code class="name flex">
<span>def <span class="ident">raw_query</span></span>(<span>self, query: str) ‑> Union[dict[str, Any], list[Any]]</span>
</code></dt>
<dd>
<div class="desc"><p>Execute raw query. If the query is not valid, raise an exception. If the query is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>query</code></strong> :&ensp;<code>str</code></dt>
<dd>the query to execute as a string in surrealql format (<a href="https://surrealdb.com/docs/surrealql">https://surrealdb.com/docs/surrealql</a>)</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the query is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Union[dict[str,Any],list[Any]]</code></dt>
<dd>the result of the query as a list of dictionaries or a dictionary if the query is valid or None if the query is not valid.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def raw_query(self, query: str) -&gt; Union[dict[str, Any], list[Any]]:
    &#34;&#34;&#34;
    Execute raw query. If the query is not valid, raise an exception. If the query is valid, return the result.

    Parameters
    ----------
    query : str
        the query to execute as a string in surrealql format (https://surrealdb.com/docs/surrealql)

    Raises
    ------
    SurrealError
        if the query is not valid, raise SurrealError with the error message

    Returns
    -------
    Union[dict[str,Any],list[Any]]
        the result of the query as a list of dictionaries or a dictionary if the query is valid or None if the query is not valid.
    &#34;&#34;&#34;
    # execute a raw query
    return self.__post(&#34;sql&#34;, query=query)</code></pre>
</details>
</dd>
<dt id="surrealpy.http.Client.select"><code class="name flex">
<span>def <span class="ident">select</span></span>(<span>self, tid: str) ‑> <a title="surrealpy.http.models.SurrealResponse" href="models.html#surrealpy.http.models.SurrealResponse">SurrealResponse</a></span>
</code></dt>
<dd>
<div class="desc"><p>Select a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.
tid is the id of a table or table name. If the tid is not valid, raise an exception</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>tid</code></strong> :&ensp;<code>str</code></dt>
<dd>the tid to select as a string. tid is the id of a table or table name</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the tid is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>SurrealResponse</code></dt>
<dd>the result of the query as a SurrealResponse object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def select(self, tid: str) -&gt; SurrealResponse:
    &#34;&#34;&#34;
    Select a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.
    tid is the id of a table or table name. If the tid is not valid, raise an exception

    Parameters
    ----------
    tid : str
        the tid to select as a string. tid is the id of a table or table name

    Raises
    ------
    SurrealError
        if the tid is not valid, raise SurrealError with the error message

    Returns
    -------
    SurrealResponse
        the result of the query as a SurrealResponse object

    &#34;&#34;&#34;
    return self.mapped_query(&#34;SELECT * FROM {}&#34;.format(tid))</code></pre>
</details>
</dd>
<dt id="surrealpy.http.Client.update"><code class="name flex">
<span>def <span class="ident">update</span></span>(<span>self, tid: str, data: Optional[dict] = None)</span>
</code></dt>
<dd>
<div class="desc"><p>Update a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>tid</code></strong> :&ensp;<code>str</code></dt>
<dd>the tid to select as a string. tid is the id of a table or table name</dd>
<dt><strong><code>data</code></strong> :&ensp;<code>Optional[dict] (default: None)</code></dt>
<dd>the data to create as a dictionary</dd>
</dl>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SurrealError</code></dt>
<dd>if the tid is not valid, raise SurrealError with the error message</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>SurrealResponse</code></dt>
<dd>the result of the query as a SurrealResponse object</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def update(self, tid: str, data: Optional[dict] = None):
    &#34;&#34;&#34;
    Update a tid in the database. If the tid is not valid, raise an exception. If the tid is valid, return the result.

    Parameters
    ----------
    tid : str
        the tid to select as a string. tid is the id of a table or table name
    data : Optional[dict] (default: None)
        the data to create as a dictionary

    Raises
    ------
    SurrealError
        if the tid is not valid, raise SurrealError with the error message

    Returns
    -------
    SurrealResponse
        the result of the query as a SurrealResponse object

    &#34;&#34;&#34;
    return (
        self.mapped_query(f&#34;UPDATE {tid}&#34;)
        if data is not None
        else self.mapped_query(f&#34;UPDATE {tid} CONTENT {json_dumps(data)}&#34;)
    )</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="surrealpy" href="../index.html">surrealpy</a></code></li>
</ul>
</li>
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="surrealpy.http.models" href="models.html">surrealpy.http.models</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="surrealpy.http.AsyncClient" href="#surrealpy.http.AsyncClient">AsyncClient</a></code></h4>
<ul class="two-column">
<li><code><a title="surrealpy.http.AsyncClient.change" href="#surrealpy.http.AsyncClient.change">change</a></code></li>
<li><code><a title="surrealpy.http.AsyncClient.create" href="#surrealpy.http.AsyncClient.create">create</a></code></li>
<li><code><a title="surrealpy.http.AsyncClient.db" href="#surrealpy.http.AsyncClient.db">db</a></code></li>
<li><code><a title="surrealpy.http.AsyncClient.delete" href="#surrealpy.http.AsyncClient.delete">delete</a></code></li>
<li><code><a title="surrealpy.http.AsyncClient.let" href="#surrealpy.http.AsyncClient.let">let</a></code></li>
<li><code><a title="surrealpy.http.AsyncClient.mapped_query" href="#surrealpy.http.AsyncClient.mapped_query">mapped_query</a></code></li>
<li><code><a title="surrealpy.http.AsyncClient.modify" href="#surrealpy.http.AsyncClient.modify">modify</a></code></li>
<li><code><a title="surrealpy.http.AsyncClient.ns" href="#surrealpy.http.AsyncClient.ns">ns</a></code></li>
<li><code><a title="surrealpy.http.AsyncClient.query" href="#surrealpy.http.AsyncClient.query">query</a></code></li>
<li><code><a title="surrealpy.http.AsyncClient.raw_query" href="#surrealpy.http.AsyncClient.raw_query">raw_query</a></code></li>
<li><code><a title="surrealpy.http.AsyncClient.select" href="#surrealpy.http.AsyncClient.select">select</a></code></li>
<li><code><a title="surrealpy.http.AsyncClient.tables" href="#surrealpy.http.AsyncClient.tables">tables</a></code></li>
<li><code><a title="surrealpy.http.AsyncClient.update" href="#surrealpy.http.AsyncClient.update">update</a></code></li>
<li><code><a title="surrealpy.http.AsyncClient.uri" href="#surrealpy.http.AsyncClient.uri">uri</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="surrealpy.http.Client" href="#surrealpy.http.Client">Client</a></code></h4>
<ul class="two-column">
<li><code><a title="surrealpy.http.Client.change" href="#surrealpy.http.Client.change">change</a></code></li>
<li><code><a title="surrealpy.http.Client.connect" href="#surrealpy.http.Client.connect">connect</a></code></li>
<li><code><a title="surrealpy.http.Client.create" href="#surrealpy.http.Client.create">create</a></code></li>
<li><code><a title="surrealpy.http.Client.db" href="#surrealpy.http.Client.db">db</a></code></li>
<li><code><a title="surrealpy.http.Client.delete" href="#surrealpy.http.Client.delete">delete</a></code></li>
<li><code><a title="surrealpy.http.Client.disconnect" href="#surrealpy.http.Client.disconnect">disconnect</a></code></li>
<li><code><a title="surrealpy.http.Client.let" href="#surrealpy.http.Client.let">let</a></code></li>
<li><code><a title="surrealpy.http.Client.mapped_query" href="#surrealpy.http.Client.mapped_query">mapped_query</a></code></li>
<li><code><a title="surrealpy.http.Client.modify" href="#surrealpy.http.Client.modify">modify</a></code></li>
<li><code><a title="surrealpy.http.Client.ns" href="#surrealpy.http.Client.ns">ns</a></code></li>
<li><code><a title="surrealpy.http.Client.query" href="#surrealpy.http.Client.query">query</a></code></li>
<li><code><a title="surrealpy.http.Client.raw_query" href="#surrealpy.http.Client.raw_query">raw_query</a></code></li>
<li><code><a title="surrealpy.http.Client.select" href="#surrealpy.http.Client.select">select</a></code></li>
<li><code><a title="surrealpy.http.Client.tables" href="#surrealpy.http.Client.tables">tables</a></code></li>
<li><code><a title="surrealpy.http.Client.update" href="#surrealpy.http.Client.update">update</a></code></li>
<li><code><a title="surrealpy.http.Client.uri" href="#surrealpy.http.Client.uri">uri</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>